{"version":3,"file":"static/js/347.b2041aff.chunk.js","mappings":"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","sources":["components/appBanner/AppBanner.js","components/errorBoundary/ErrorBoundary.js","components/errorMessage/ErrorMessage.js","components/comicsList/ComicsList.js","components/pages/ComicsPage.js","hooks/useLists.hook.js","services/MarvelService.js","hooks/http.hook.js","../node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","../node_modules/@babel/runtime/helpers/esm/classCallCheck.js","../node_modules/@babel/runtime/helpers/esm/createClass.js","../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","../node_modules/@babel/runtime/helpers/esm/createSuper.js","../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","../node_modules/@babel/runtime/helpers/esm/inherits.js","../node_modules/@babel/runtime/helpers/esm/isNativeReflectConstruct.js","../node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","../node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js"],"sourcesContent":["import './appBanner.scss';\r\nimport avengers from '../../resourses/img/Avengers.png';\r\nimport logo from '../../resourses/img/Avengers_logo.png'\r\n\r\n\r\nconst AppBanner = () => {\r\n    return (\r\n        <div className=\"appbanner\">\r\n            <div className=\"appbanner__block\">\r\n                <img src={avengers} alt=\"\" />\r\n                <div className=\"appbanner__text\">\r\n                New comics every week! <br />\r\n                Stay tuned!\r\n                </div>\r\n            </div>\r\n            <div className=\"appbanner__logo\"><img src={logo} alt=\"\" /></div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default AppBanner;","import { Component } from \"react\";\r\nimport ErrorMessage from \"../errorMessage/ErrorMessage\";\r\n\r\nclass ErrorBoundary extends Component {\r\n    state = {\r\n        error: false\r\n    }\r\n\r\n    componentDidCatch(error, errorInfo) {\r\n        console.log(error, errorInfo);\r\n        this.setState({\r\n            error: true\r\n        })\r\n    }\r\n\r\n    render() {\r\n        const style = {\r\n            color: \"black\",\r\n            textAlign: \"center\"\r\n        };\r\n\r\n        if (this.state.error) {\r\n            return <>\r\n                <h2 style={style} >Something went wrong</h2>;\r\n                <ErrorMessage/>\r\n                </>\r\n        } else {\r\n            return this.props.children;\r\n        }\r\n    }\r\n\r\n}\r\n\r\nexport default ErrorBoundary;\r\n\r\n","import img from './error.gif';\r\n\r\nconst ErrorMessage = () => {\r\n    return (\r\n        <img style={{display: 'block', width: '250px', height: '250px', objectFit: 'contain', margin: '0 auto'}} src={img} alt=\"error-img\" />\r\n    )\r\n}\r\n\r\nexport default ErrorMessage;","import './comicsList.scss';\r\n\r\nimport { useEffect, useMemo } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport { useLists } from '../../hooks/useLists.hook';\r\n\r\nconst ComicsList = () => {\r\n\r\n    const { \r\n        items, \r\n        firstLoading,\r\n        offset, \r\n        listEnd, \r\n        onRequest, \r\n        onScroll, \r\n        endOfPage, \r\n        itemRefs, \r\n        focusOnItem,\r\n        setContent,\r\n        process\r\n        } = useLists(500, 8);\r\n\r\n    useEffect(() => {\r\n        onRequest('Comics', offset, true);\r\n        // eslint-disable-next-line\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        if (endOfPage) {\r\n            onRequest('Comics', offset);\r\n        }\r\n        // eslint-disable-next-line\r\n    }, [endOfPage])\r\n\r\n    useEffect(() => {\r\n        window.addEventListener('scroll', onScroll);\r\n        return () => window.removeEventListener('scroll', onScroll);\r\n        // eslint-disable-next-line\r\n    }, []);\r\n\r\n    function renderItems(arr) {\r\n\r\n        const items = arr.map((item, i) => {\r\n\r\n            let styleImg = {objectFit: 'cover'};\r\n            if (item.thumbnail.includes('not_available')) {\r\n                styleImg = {objectFit: 'unset'};\r\n            }\r\n\r\n            return (\r\n                <li className=\"comicslist__item\"\r\n                    key={item.id}\r\n                    tabIndex={0}\r\n                    ref={el => itemRefs.current[i] = el}\r\n                    onClick={() => {\r\n                        focusOnItem(i);\r\n                    }}\r\n                    onKeyPress={(e) => {\r\n                        if (e.key === ' ' || e.key === \"Enter\") {\r\n                            focusOnItem(i);\r\n                        }\r\n                    }}>\r\n                    <Link to={`/comics/${item.id}`} >\r\n                        <img src={item.thumbnail} alt={item.title} style={styleImg} />\r\n                        <div className=\"comicslist__item-title\">{item.title}</div>\r\n                        <div className=\"comicslist__item-price\">{item.price}</div>\r\n                    </Link>\r\n\r\n                </li>\r\n            )\r\n        });\r\n        return (\r\n            <ul className=\"comicslist__list\">\r\n                {items}\r\n            </ul>\r\n        );\r\n    }\r\n\r\n\r\n    const btnStyle = listEnd ? {display: 'none'} : {display: 'block'};\r\n\r\n    const elements = useMemo(() => {\r\n        return setContent(process, () => renderItems(items), firstLoading);\r\n        // eslint-disable-next-line\r\n    }, [process])\r\n\r\n    return (\r\n\r\n        <div className=\"comicslist\">\r\n            {elements}\r\n            <button className=\"button button__main button__long\"\r\n                    style={btnStyle}\r\n                    disabled={process === 'loading'}\r\n                    onClick={() => onRequest('Comics', offset)}>\r\n                <div className=\"inner\">{process === 'loading' ? 'loading...' : 'load more'}</div>\r\n            </button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ComicsList;","import ComicsList from '../comicsList/ComicsList';\r\nimport AppBanner from '../appBanner/AppBanner';\r\nimport ErrorBoundary from '../errorBoundary/ErrorBoundary';\r\n\r\nimport { Helmet } from 'react-helmet';\r\n\r\nconst ComicsPage = () => {\r\n    \r\n    return (\r\n        <>\r\n            <Helmet>\r\n                <meta \r\n                    name=\"description\"\r\n                    content=\"Comics page\"/>\r\n                <title>Comics page</title>\r\n            </Helmet>\r\n            <AppBanner/>\r\n            <ErrorBoundary>\r\n                <ComicsList/>\r\n            </ErrorBoundary>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default ComicsPage;","import { useState, useRef } from \"react\";\r\nimport useMarvelService from \"../services/MarvelService\";\r\n\r\nimport ErrorMessage from '../components/errorMessage/ErrorMessage';\r\nimport Spinner from '../components/spinner/Spinner';\r\n\r\nexport const useLists = (initialOffset, itemsInList) => {\r\n\r\n    const [items, setItems] = useState([]),\r\n        [offset, setOffset] = useState(initialOffset),\r\n        [listEnd, setListEnd] = useState(false),\r\n        [endOfPage, setEndOfPage] = useState(false),\r\n        [firstLoading, setFirstLoading] = useState(true),\r\n        [itemsLoaded, setItemsLoaded] = useState(false);\r\n\r\n    const {getAllCharacters, getComics, process, setProcess} = useMarvelService();\r\n\r\n    const onRequest = (items, offset) => {\r\n        if (items === 'Characters') {\r\n            getAllCharacters(offset)\r\n                .then(onListLoaded)\r\n                .then(() => setProcess('confirmed'))\r\n                .finally(() => setEndOfPage(false));\r\n        }\r\n        if (items === 'Comics') {\r\n            getComics(offset)\r\n                .then(onListLoaded)\r\n                .then(() => setProcess('confirmed'))\r\n                .finally(() => setEndOfPage(false));\r\n        }\r\n        \r\n    }\r\n\r\n    const onListLoaded = (newItems) => {\r\n        const totalItems = newItems[0];\r\n        let ended = totalItems - offset <= itemsInList;\r\n        setItems(items => [...items, ...newItems[1]]);\r\n        setFirstLoading(false);\r\n        setOffset(offset => offset + itemsInList);\r\n        setListEnd(ended);\r\n        setItemsLoaded(true);\r\n        setProcess('confirmed')\r\n    }\r\n\r\n    const onScroll = () => {\r\n        if (\r\n            window.innerHeight + window.pageYOffset >= document.body.offsetHeight && window.pageYOffset > 0\r\n        ) {\r\n            setEndOfPage(true);\r\n        }\r\n    }\r\n\r\n    const itemRefs = useRef([]);\r\n\r\n    const focusOnItem = (id) => {\r\n        itemRefs.current.forEach(item => item.classList.remove('item-selected'));\r\n        itemRefs.current[id].classList.add('item-selected');\r\n        itemRefs.current[id].focus();\r\n    }\r\n\r\n    const setContent = (process, Component, firstLoading) => {\r\n        switch (process) {\r\n            case 'waiting':\r\n                return <Spinner/>;\r\n            case 'error':\r\n                return <ErrorMessage/>;\r\n            case 'loading':\r\n                return firstLoading ? <Spinner/> : <Component/>;\r\n            case 'confirmed':\r\n                return <Component/>;\r\n            default:\r\n                throw new Error('unexpected state');\r\n        }\r\n    }\r\n\r\n\r\n    return {\r\n        items, \r\n        itemsLoaded, \r\n        offset, \r\n        listEnd, \r\n        onRequest, \r\n        onListLoaded, \r\n        onScroll, \r\n        endOfPage, \r\n        firstLoading, \r\n        itemRefs, \r\n        focusOnItem,\r\n        setContent,\r\n        process,\r\n        setProcess\r\n    }\r\n\r\n}","\r\n\r\nimport { useHttp } from \"../hooks/http.hook\";\r\n\r\nconst useMarvelService = () => {\r\n\r\n    const {loading, error, request, clearError, process, setProcess} = useHttp();\r\n\r\n    const _apiBase = 'https://gateway.marvel.com:443/v1/public/';\r\n    const _apiKey = 'apikey=f09e10b3c42de2c120290b4a4f1abcf2';\r\n    const _baseCharOffset = 210;\r\n    const _baseComicsOffset = 500;\r\n\r\n    const getAllCharacters = async (charOffset = _baseCharOffset) => {\r\n        const res = await request(`${_apiBase}characters?limit=9&offset=${charOffset}&${_apiKey}`);\r\n        const totalCharacters = res.data.total;\r\n        return [totalCharacters, res.data.results.map(_transformCharacterData)];\r\n    }\r\n\r\n    const getCharacter = async (param, paramType) => {\r\n        let res;\r\n        if (paramType === 'id') {\r\n            res = await request(`${_apiBase}characters/${param}?${_apiKey}`);\r\n        } else if (paramType === 'name') {\r\n            res = await request(`${_apiBase}characters?name=${param}&${_apiKey}`);\r\n            if (res.data.total === 0) return {};\r\n        }\r\n        return _transformCharacterData(res.data.results[0]);\r\n    }\r\n\r\n\r\n    const getComics = async (comicsOffset = _baseComicsOffset) => {\r\n        const res = await request(`${_apiBase}comics?orderBy=issueNumber&limit=8&offset=${comicsOffset}&${_apiKey}`);\r\n        const totalComics = res.data.total;\r\n        return [totalComics, res.data.results.map(_transformComicsData)];\r\n    }\r\n\r\n    const getSingleComic = async (id) => {\r\n        const res = await request(`${_apiBase}comics/${id}?${_apiKey}`);\r\n        return _transformComicsData(res.data.results[0]);\r\n    }\r\n\r\n    const _transformComicsData = (comics) => {\r\n        return {\r\n            id: comics.id,\r\n            title: comics.title,\r\n            description: comics.description || 'There is no description',\r\n            pageCount: comics.pageCount ? `${comics.pageCount} p.` : 'No information about the number of pages',\r\n            thumbnail: comics.thumbnail.path + '.' + comics.thumbnail.extension,\r\n            language: comics.textObjects.language || 'en-us',\r\n            price: comics.prices[0].price ? `${comics.prices[0].price}$` : 'not available'\r\n        }\r\n    }\r\n\r\n    const _transformCharacterData = (char) => {\r\n        return {\r\n            id: char.id,\r\n            name: char.name,\r\n            description: char.description ? `${char.description.slice(0, 210)}...` : 'There is no description for this character',\r\n            thumbnail: char.thumbnail.path + '.' + char.thumbnail.extension,\r\n            homepage: char.urls[0].url,\r\n            wiki: char.urls[1].url,\r\n            comics: char.comics.items\r\n        }\r\n    }\r\n\r\n    return {\r\n        loading,\r\n        error,\r\n        getAllCharacters,\r\n        getCharacter,\r\n        getComics,\r\n        clearError,\r\n        getSingleComic,\r\n        process,\r\n        setProcess\r\n    }\r\n\r\n}\r\n\r\nexport default useMarvelService;","import { useState, useCallback } from \"react\";\r\n\r\nexport const useHttp = () => {\r\n\r\n    const [loading, setLoading] = useState(false);\r\n    const [error, setError] = useState(null);\r\n    const [process, setProcess] = useState('waiting');\r\n\r\n    const request = useCallback(async (url, method = 'GET', body = null, headers = {'Content-Type': 'application/json' }) => {\r\n\r\n        setLoading(true);\r\n        setProcess('loading');\r\n\r\n        try {\r\n            const res = await fetch(url, {method, body, headers});\r\n            if (!res.ok) {\r\n                throw new Error(`Could not fetch ${url}, status: ${res.status}`); \r\n            }\r\n            const data = await res.json();\r\n            setLoading(false);\r\n            return data;\r\n        } catch(e) {\r\n            setLoading(false);\r\n            setProcess('error');\r\n            setError(e.message);\r\n            throw e;\r\n        }\r\n\r\n    }, [])\r\n\r\n    const clearError = useCallback(() => {\r\n        setError(null);\r\n        setProcess('waiting');\r\n    }, [])\r\n\r\n    return {\r\n        loading,\r\n        error,\r\n        request,\r\n        clearError,\r\n        process,\r\n        setProcess\r\n    }\r\n}","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}","import _typeof from \"./typeof.js\";\nimport assertThisInitialized from \"./assertThisInitialized.js\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n\n  return assertThisInitialized(self);\n}","import getPrototypeOf from \"./getPrototypeOf.js\";\nimport isNativeReflectConstruct from \"./isNativeReflectConstruct.js\";\nimport possibleConstructorReturn from \"./possibleConstructorReturn.js\";\nexport default function _createSuper(Derived) {\n  var hasNativeReflectConstruct = isNativeReflectConstruct();\n  return function _createSuperInternal() {\n    var Super = getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return possibleConstructorReturn(this, result);\n  };\n}","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","import setPrototypeOf from \"./setPrototypeOf.js\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  Object.defineProperty(subClass, \"prototype\", {\n    writable: false\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","export default function _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n  return _setPrototypeOf(o, p);\n}","import arrayWithoutHoles from \"./arrayWithoutHoles.js\";\nimport iterableToArray from \"./iterableToArray.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableSpread from \"./nonIterableSpread.js\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}"],"names":["className","src","avengers","alt","logo","ErrorBoundary","state","error","errorInfo","console","log","this","setState","style","color","textAlign","props","children","Component","display","width","height","objectFit","margin","img","useLists","items","firstLoading","offset","listEnd","onRequest","onScroll","endOfPage","itemRefs","focusOnItem","setContent","process","useEffect","window","addEventListener","removeEventListener","btnStyle","elements","useMemo","arr","map","item","i","styleImg","thumbnail","includes","tabIndex","ref","el","current","onClick","onKeyPress","e","key","to","id","title","price","renderItems","disabled","Helmet","name","content","AppBanner","initialOffset","itemsInList","useState","setItems","setOffset","setListEnd","setEndOfPage","setFirstLoading","itemsLoaded","setItemsLoaded","useMarvelService","getAllCharacters","getComics","setProcess","onListLoaded","newItems","ended","useRef","then","finally","innerHeight","pageYOffset","document","body","offsetHeight","forEach","classList","remove","add","focus","Error","loading","setLoading","setError","request","useCallback","url","method","headers","fetch","res","ok","status","json","data","message","clearError","useHttp","_apiBase","_apiKey","charOffset","totalCharacters","total","results","_transformCharacterData","getCharacter","param","paramType","comicsOffset","totalComics","_transformComicsData","getSingleComic","comics","description","pageCount","path","extension","language","textObjects","prices","char","slice","homepage","urls","wiki","_assertThisInitialized","self","ReferenceError","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","length","descriptor","enumerable","configurable","writable","Object","defineProperty","_createClass","protoProps","staticProps","prototype","_possibleConstructorReturn","call","assertThisInitialized","_createSuper","Derived","hasNativeReflectConstruct","isNativeReflectConstruct","result","Super","getPrototypeOf","NewTarget","constructor","Reflect","construct","arguments","apply","_getPrototypeOf","o","setPrototypeOf","bind","__proto__","_inherits","subClass","superClass","create","value","_isNativeReflectConstruct","sham","Proxy","Boolean","valueOf","_setPrototypeOf","p","_toConsumableArray","Array","isArray","arrayLikeToArray","iter","Symbol","iterator","from","unsupportedIterableToArray"],"sourceRoot":""}